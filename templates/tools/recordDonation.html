<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "html-dtd/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<!--  HTML Kopf -->
    <head tal:comment="html head, requires page title"
          metal:use-macro="lib/htmlHeadGuest.html/htmlHead">
    </head>

<!--  // HTML Kopf -->

    <body>
        <div id="page-container">
            <div id="masthead">
                <div class="inside">

<!-- Kopfzeile -->
                    <span tal:comment="logo"
                          metal:use-macro="lib/middleColumnGuest.html/logo">
                    </span>

<!-- // Kopfzeile -->

                </div><!-- inside -->
            </div><!-- masthead -->
            <div id="outer-column-container">
                <div id="inner-column-container">
                    <div id="source-order-container">
                        <div id="middle-column">
                            <div class="inside">
                                <div id="content">
<!-- mittlere Spalte -->

    <div id="newDonation"
         tal:comment="create fieldset for new donation entry"
         tal:condition="not: exists: errorMessageACL">

         <p tal:comment="success"
            tal:condition="exists: donationSuccess">
             Die Spende wurde erfolgreich in die Datenbank eingetragen.
         </p>

         <p tal:comment="failure"
            tal:condition="exists: errorMessageUser">
             Es wurde kein passender Benutzer gefunden.
         </p>

        <form id="donationForm" href="./recordDonation.php" method="post">
            <!-- new donation entry: ident, ddate, amount -->
            <fieldset  id="fieldSetDonation">

                <label for="ident"
                       id="identLabel">Ident</label>
                <input name="ident"
                       id="identInput"
                       type="text"
                       size="50"
                       maxlength="255" />
                <br />

                <label for="ddate"
                       id="ddateLabel">Datum (YYYYMMDD)</label>
                <input name="ddate"
                       id="ddateInput"
                       type="text"
                       size="50"
                       maxlength="255" />
                <br />

                <label for="amount"
                       id="amountLabel">Betrag</label>
                <input name="amount"
                       id="amountInput"
                       type="text"
                       size="50"
                       maxlength="255" />
                <br />

                <legend>Eintragen</legend>
                <input id="buttonSend"
                       type="submit"
                       value="Mehr Energie für Erde II" />
                <br />
            </fieldset>
        </form>

        <!-- Liste aller Spenden -->
        <table tal:condition="exists: allDonations">
            <tr>
                <th>id</th>
                <th>user</th>
                <th>ident</th>
                <th>date</th>
                <th>amount</th>
                <th>to_show</th>
            </tr>
            <tr tal:repeat="donation allDonations">
                <td tal:content="donation/id">id</td>
                <td tal:content="donation/user">user</td>
                <td tal:content="donation/ident">ident</td>
                <td tal:content="donation/date">date</td>
                <td tal:content="donation/amount">amount</td>
                <td tal:content="donation/to_show">to_show</td>
            </tr>
        </table>
    </div>

    <div id="newDonation"
         tal:comment="create fieldset for new donation entry"
         tal:condition="exists: errorMessageACL">
        <!-- Keine Berechtigung! -->
        <p>Diese Funktion ist für dich gesperrt!</p>
    </div>

<!-- // mittlere Spalte -->
                                </div><!-- content -->
                            </div><!-- inside -->
                        </div><!-- middle-column -->
                        <div id="left-column">
                            <div class="inside">
<!-- linke Spalte -->
                                <span tal:comment="left column template"
                                      metal:use-macro="lib/leftColumnGuest.html/leftColumn">
                                </span>
<!-- // linke Spalte -->
                            </div><!-- inside -->
                        </div><!-- left-column -->
                        <div class="clear-columns"><!-- do not delete --></div>
                    </div><!-- source-oder-container -->
                    <div id="right-column">
                        <div class="inside">
<!-- rechte Spalte -->
                            <span tal:comment="right column template"
                                  metal:use-macro="lib/rightColumnGuest.html/rightColumn">
                            </span>
<!-- // rechte Spalte -->
                        </div><!-- inside -->
                    </div><!-- right-column -->
                    <div class="clear-columns"><!-- do not delete --></div>
                </div><!-- inner-column-container -->
            </div><!-- inner-column-container -->
            <div id="footerGuest">
                <div class="inside">
<!-- Fusszeile -->
                        <span tal:comment="footer template"
                              metal:use-macro="lib/footer.html/footer">
                        </span>
<!-- // Fusszeile -->
                </div><!-- inside -->
            </div><!-- footer -->
        </div><!-- inner-column-container -->
    </body>
</html>